{"ast":null,"code":"var _jsxFileName = \"B:\\\\CDAC\\\\C-DAC_PROJECT\\\\EMART_C-DAC_PROJECT\\\\JAVA\\\\MYJAVAFRONTEND\\\\src\\\\Component\\\\ProductCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, Button, Alert, Row, Col } from 'react-bootstrap'; // Import Bootstrap components\nimport { useNavigate } from 'react-router-dom';\nimport \"./ProductCard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  id,\n  imgpath,\n  prodName,\n  prodDisc,\n  prodPoints,\n  prodLongDesc,\n  prodShortDesc,\n  offerPrice,\n  mrpPrice\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [cart, setCart] = useState({\n    prodID: \"\",\n    custID: \"\",\n    qty: \"\"\n  });\n  const [showLongDesc, setShowLongDesc] = useState(false);\n  const handleAddToCart = id => {\n    if (sessionStorage.getItem(\"islogin\") === \"true\") {\n      setCart({\n        prodID: id,\n        custID: sessionStorage.getItem(\"custId\"),\n        qty: 1\n      });\n      return;\n    }\n    navigate('/login');\n  };\n  useEffect(() => {\n    if (cart.prodID && cart.custID) {\n      fetch(\"http://localhost:8080/Cart\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(cart)\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(\"Cart data couldn't be sent.\");\n        }\n        alert(\"Cart data sent successfully.\");\n      }).catch(error => {\n        alert(\"Item Already added in the cart\");\n      });\n    }\n  }, [cart]);\n  const toggleLongDesc = () => {\n    setShowLongDesc(!showLongDesc);\n  };\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '18rem',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: imgpath,\n          alt: prodName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: prodName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), showLongDesc ? /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: prodLongDesc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: prodShortDesc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"MRP - \\u20B9\", mrpPrice, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), \"\\u20B9\", offerPrice, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), prodPoints != 0 && `Points - ${prodPoints}`, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 61\n            }, this), prodPoints != 0 && `Discount - ${prodDisc == 0 ? \"100%\" : prodDisc + \"%\"}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), prodLongDesc && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            onClick: toggleLongDesc,\n            children: showLongDesc ? 'Show Less' : 'Show More'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => handleAddToCart(id),\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCard, \"An7mUpFSnV7P2D/v8YGslIFWWL8=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductCard;\nProductCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  imgpath: PropTypes.string.isRequired,\n  prodName: PropTypes.string.isRequired,\n  prodLongDesc: PropTypes.string.isRequired,\n  prodShortDesc: PropTypes.string.isRequired,\n  offerPrice: PropTypes.number.isRequired,\n  mrpPrice: PropTypes.number.isRequired\n};\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Card","Button","Alert","Row","Col","useNavigate","jsxDEV","_jsxDEV","ProductCard","id","imgpath","prodName","prodDisc","prodPoints","prodLongDesc","prodShortDesc","offerPrice","mrpPrice","_s","navigate","cart","setCart","prodID","custID","qty","showLongDesc","setShowLongDesc","handleAddToCart","sessionStorage","getItem","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","alert","catch","error","toggleLongDesc","children","md","style","width","marginBottom","Img","variant","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","Body","Title","Text","onClick","_c","propTypes","number","isRequired","string","$RefreshReg$"],"sources":["B:/CDAC/C-DAC_PROJECT/EMART_C-DAC_PROJECT/JAVA/MYJAVAFRONTEND/src/Component/ProductCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, Button, Alert, Row, Col } from 'react-bootstrap'; // Import Bootstrap components\nimport { useNavigate } from 'react-router-dom';\nimport \"./ProductCard.css\";\n\nconst ProductCard = ({\n  id,\n  imgpath,\n  prodName,\n  prodDisc,\n  prodPoints,\n  prodLongDesc,\n  prodShortDesc,\n  offerPrice,\n  mrpPrice\n}) => {\n  const navigate = useNavigate();\n  const [cart, setCart] = useState({\n    prodID: \"\",\n    custID: \"\",\n    qty: \"\"\n  });\n\n  const [showLongDesc, setShowLongDesc] = useState(false);\n\n  const handleAddToCart = (id) => {\n    if (sessionStorage.getItem(\"islogin\") === \"true\") {\n      setCart({\n        prodID: id,\n        custID: sessionStorage.getItem(\"custId\"),\n        qty: 1\n      });\n      \n      return;\n    }\n\n    navigate('/login');\n  };\n\n  useEffect(() => {\n    if (cart.prodID && cart.custID) {\n      fetch(\"http://localhost:8080/Cart\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(cart)\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Cart data couldn't be sent.\");\n          }\n          alert(\"Cart data sent successfully.\");\n        })\n        .catch((error) => {\n          alert(\"Item Already added in the cart\");\n        });\n    }\n  }, [cart]);\n\n  const toggleLongDesc = () => {\n    setShowLongDesc(!showLongDesc);\n  };\n\n  return (\n    <Row>\n      <Col md={4}>\n        <Card style={{ width: '18rem', marginBottom: '20px' }}>\n          <Card.Img variant=\"top\" src={imgpath} alt={prodName} />\n          <Card.Body>\n            <Card.Title>{prodName}</Card.Title>\n            {showLongDesc ? (\n              <Card.Text>{prodLongDesc}</Card.Text>\n            ) : (\n              <Card.Text>{prodShortDesc}</Card.Text>\n            )}\n            <Card.Text>\n              MRP - ₹{mrpPrice} <br />\n              ₹{offerPrice} <br />\n              {prodPoints != 0 && `Points - ${prodPoints}`} <br />\n              {prodPoints != 0 && `Discount - ${prodDisc==0 ? \"100%\" : prodDisc+\"%\"}`}\n            </Card.Text>\n            {prodLongDesc && (\n              <Alert variant=\"info\" onClick={toggleLongDesc}>\n                {showLongDesc ? 'Show Less' : 'Show More'}\n              </Alert>\n            )}\n            <Button variant=\"primary\" onClick={() => handleAddToCart(id)}>\n              Add to Cart\n            </Button>\n          </Card.Body>\n        </Card>\n      </Col>\n    </Row>\n  );\n};\n\nProductCard.propTypes = {\n  id: PropTypes.number.isRequired, \n  imgpath: PropTypes.string.isRequired,\n  prodName: PropTypes.string.isRequired,\n  prodLongDesc: PropTypes.string.isRequired,\n  prodShortDesc: PropTypes.string.isRequired,\n  offerPrice: PropTypes.number.isRequired,\n  mrpPrice: PropTypes.number.isRequired\n};\nexport default ProductCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}